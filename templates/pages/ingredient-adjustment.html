{% extends 'base.html' %}

{% block content %}
    <div class="columns block">
        <div class="column is-3">
            <span class="is-size-5 has-text-weight-bold">材料</span>
        </div>
        <div class="column is-2">
            <span class="is-size-5 has-text-weight-bold">量</span>
        </div>
        <div class="column is-2">
            <span class="is-size-5 has-text-weight-bold">更新量</span>
        </div>
    </div>
    <div id="ingredients" class="block">
        {% for i in range(3) %}
            {% with row = i %}
                {% include 'components/adjustment-row.html' %}
            {% endwith %}
        {% endfor %}
    </div>
    <div class="field columns block">
        <div class="control column is-3">
            <button id="add-button" class="button is-primary">
                <span class="icon-text">
                    <span class="icon">
                        <i class="fa-solid fa-plus"></i>
                    </span>
                    <span>新增欄位</span>
                </span>
            </button>
        </div>
        <div class="control column is-3">
            <button id="adjust-button" class="button is-primary js-modal-trigger" data-target="modal-js" disabled>
                <span class="icon-text">
                    <span class="icon">
                        <i class="fa-solid fa-scale-balanced"></i>
                    </span>
                    <span>進行調整</span>
                </span>
            </button>
        </div>
    </div>
    <div id="modal-js" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">調整確認</p>
                <button class="delete" aria-label="close"></button>
            </header>
            <section class="modal-card-body">
                <span>所有設定未鎖定之材料將變為原本的</span>
                <span id="adjust-ratio"></span>
                <span>倍</span>
            </section>
            <footer class="modal-card-foot">
                <button id="update-button" class="button is-success">確認</button>
                <button class="button">取消</button>
            </footer>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/ingredient-adjustment.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/modal.js') }}" type="text/javascript"></script>
{% endblock %}